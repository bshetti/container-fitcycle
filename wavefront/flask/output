#!/bin/bash
kubectl config set-credentials bshetti@vmware.com \
    --auth-provider=oidc \
    --auth-provider-arg=idp-issuer-url=https://lightwave.cascade-cloud.com/openidconnect/bfd7a751-b2f5-43a3-b2b3-0c82d6896aee \
    --auth-provider-arg=client-id=6e75d575-be1b-4143-96ac-30bd4690642c \
    --auth-provider-arg=client-secret=6e75d575-be1b-4143-96ac-30bd4690642c \
    --auth-provider-arg=refresh-token= \
    --auth-provider-arg=id-token=eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJic2hldHRpQHZtd2FyZS5jb20iLCJpc3MiOiJodHRwczpcL1wvbGlnaHR3YXZlLmNhc2NhZGUtY2xvdWQuY29tXC9vcGVuaWRjb25uZWN0XC9iZmQ3YTc1MS1iMmY1LTQzYTMtYjJiMy0wYzgyZDY4OTZhZWUiLCJncm91cHMiOlsiYmZkN2E3NTEtYjJmNS00M2EzLWIyYjMtMGM4MmQ2ODk2YWVlXFxDYXNjYWRlU2VydmljZVVzZXJzIiwiYmZkN2E3NTEtYjJmNS00M2EzLWIyYjMtMGM4MmQ2ODk2YWVlXFxDYXNjYWRlU2VydmljZUFkbWluaXN0cmF0b3JzIiwiYmZkN2E3NTEtYjJmNS00M2EzLWIyYjMtMGM4MmQ2ODk2YWVlXFxVc2VycyIsImJmZDdhNzUxLWIyZjUtNDNhMy1iMmIzLTBjODJkNjg5NmFlZVxcQWRtaW5pc3RyYXRvcnMiLCJiZmQ3YTc1MS1iMmY1LTQzYTMtYjJiMy0wYzgyZDY4OTZhZWVcXEV2ZXJ5b25lIl0sInRva2VuX2NsYXNzIjoiaWRfdG9rZW4iLCJ0b2tlbl90eXBlIjoiQmVhcmVyIiwiY2xpZW50X2lkIjoiNmU3NWQ1NzUtYmUxYi00MTQzLTk2YWMtMzBiZDQ2OTA2NDJjIiwiYXVkIjoiNmU3NWQ1NzUtYmUxYi00MTQzLTk2YWMtMzBiZDQ2OTA2NDJjIiwic2NvcGUiOiJyc19hZG1pbl9zZXJ2ZXIgYXRfZ3JvdXBzIG9wZW5pZCBvZmZsaW5lX2FjY2VzcyByc192bWRpciBpZF9ncm91cHMiLCJtdWx0aV90ZW5hbnQiOmZhbHNlLCJleHAiOjE1MjUzMDIwOTAsImlhdCI6MTUyNTI5ODQ5MCwianRpIjoiT05Pb25LclNKanltLTdGUzU3QUplUmw0U0s0eldfZzBWR0ptWUVIWVVUVSIsInRlbmFudCI6ImJmZDdhNzUxLWIyZjUtNDNhMy1iMmIzLTBjODJkNjg5NmFlZSJ9.JJSjUA01sIrnFgUnKuR93wMtzZgTF-7XpyjAdZ4NoKC0TXjbzp3ePtzF8-_fskxGBcPaQsWIILS0pd-Hw1K57eItAnD1hXfNuPO-99-maFF6mOj-yPnAGxwm2BPBFGBFUWxQ6sT9Qrb66Ap8_956xKqxfDhOdTWiMPfc9w0-yfNv5lN_INtXInMtzT63dzxCk3ruVuJRLgCFeK1AD89Aw4ANilaD9P7FSeJ4-21s3QHsOymCIsRMppZkB9OA6foU3FZAl6lWW_rrlqii4n2Tll5u6RLoIG75Ny0LpNGxjUr5YKayb0TBDLwsOUjZ-xKPWTcxVajXthFQ8a9tdCLPww \
    --auth-provider-arg=idp-certificate-authority=/tmp/lw-ca-cert-VUJI.pem725820116 

kubectl config set-cluster full-test \
    --server=https://full-test-79eec6da-263b-11e8-8564-022af03b6960.bfd7a751-b2f5-43a3-b2b3-0c82d6896aee.cascade-user.com:6443 \
    --insecure-skip-tls-verify=true 

kubectl config set-context full-test-context \
    --cluster full-test \
    --user=bshetti@vmware.com 

kubectl config use-context full-test-context 
